<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Anti-Overstimulatie App</title>
    <style>
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            transition: 0.5s; 
            margin: 0; 
            display: flex; 
            background-color: #f4f4f4; 
            color: #333;
            height: 100vh;
            overflow: hidden;
        }
        /* De Zijbalk */
        #sidebar { 
            width: 250px; 
            height: 100vh; 
            background: #2c3e50; 
            color: white; 
            padding: 25px; 
            box-sizing: border-box; 
            display: flex;
            flex-direction: column;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
        }
        #sidebar h2 { border-bottom: 2px solid #34495e; padding-bottom: 10px; margin-top: 0; }
        .menu-item { 
            margin: 15px 0; 
            cursor: pointer; 
            padding: 10px;
            border-radius: 8px;
            transition: 0.3s;
            display: flex;
            align-items: center;
        }
        .menu-item:hover { background: #34495e; }
        
        /* Statistieken gedeelte */
        #stats-display { 
            margin-top: auto; 
            background: #1a252f; 
            padding: 15px; 
            border-radius: 10px;
            text-align: center;
            transition: 0.3s;
        }
        .stats-val { color: #e74c3c; font-size: 2.5rem; font-weight: bold; margin: 5px 0; }

        /* Hoofdscherm */
        #main { 
            flex-grow: 1; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            text-align: center;
        }
        .flow-btn { 
            padding: 25px 50px; 
            font-size: 1.5rem; 
            border-radius: 60px; 
            cursor: pointer; 
            border: none; 
            background: #95a5a6; 
            color: white; 
            font-weight: bold; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: 0.3s;
        }
        .flow-btn:active { transform: scale(0.95); }

        /* Flow State Kleuren */
        body.flow-active { background-color: #0b0e14; color: #ecf0f1; }
        body.flow-active .flow-btn { background-color: #3498db; box-shadow: 0 0 20px #3498db; }
    </style>
</head>
<body>

    <div id="sidebar">
        <h2>Menu</h2>
        <div class="menu-item" onclick="alert('Instellingen: Kracht van de AI staat op 100%')">‚öôÔ∏è Instellingen</div>
        <div class="menu-item" onclick="togglePrivacy()">üîí Priv√© Modus</div>
        
        <div id="stats-display">
            <p style="margin: 0; font-size: 0.9rem; color: #bdc3c7;">Gered van scrollen</p>
            <div class="stats-val" id="count">0</div>
        </div>
    </div>

    <div id="main">
        <h1 id="title">Focus App</h1>
        <button id="flowButton" class="flow-btn" onclick="toggleFlow()">
            ENTER FLOW STATE
        </button>
        <p id="statusDesc" style="margin-top: 20px; opacity: 0.7;">Klik op de knop om afleidingen te blokkeren.</p>
    </div>

    <script src="detector.js"></script>
    <script>
        // Functie voor de aan/uit knop
        function toggleFlow() {
            const active = localStorage.getItem("flowState") === "true";
            localStorage.setItem("flowState", !active);
            updateUI();
        }

        // Functie voor de privacy (blur)
        function togglePrivacy() {
            const stats = document.getElementById("stats-display");
            stats.style.filter = (stats.style.filter === "blur(8px)") ? "none" : "blur(8px)";
        }

        // Update alles op het scherm
        function updateUI() {
            const isFlow = localStorage.getItem("flowState") === "true";
            const btn = document.getElementById("flowButton");
            const body = document.body;
            
            if(isFlow) {
                body.classList.add("flow-active");
                btn.innerText = "FLOW STATE ACTIEF";
                document.getElementById("title").innerText = "Focus Modus";
            } else {
                body.classList.remove("flow-active");
                btn.innerText = "ENTER FLOW STATE";
                document.getElementById("title").innerText = "Focus App";
            }
            
            // Haal de teller op uit het geheugen
            document.getElementById("count").innerText = localStorage.getItem("scrollBlokkades") || 0;
        }

        // Elke seconde de teller updaten voor het geval je geblokkeerd bent
        setInterval(() => {
            document.getElementById("count").innerText = localStorage.getItem("scrollBlokkades") || 0;
        }, 1000);

        updateUI(); 
    </script>
</body>
</html>